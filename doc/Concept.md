# Вступ

Цей документ проводить огляд трьох інструментів для розгортання Kubernetes кластерів у локальному середовищі: Minikube, kind та k3d. Кожен інструмент має свої особливості, призначення та переваги, які важливо врахувати при виборі для розгортання кластера Kubernetes для PoC стартапу "AsciiArtify".

# Характеристики

## Minikube

- **Призначення:** Локальна система Kubernetes для розробки та тестування.
- **Підтримувані ОС та архітектури:** Linux, macOS, Windows; amd64, arm64.
- **Автоматизація:** Основна підтримка.
- **Додаткові функції:** Базові можливості для розробки та тестування.

## kind (Kubernetes IN Docker)

- **Призначення:** Створення локальних Kubernetes кластерів в Docker контейнерах.
- **Підтримувані ОС та архітектури:** Більшість Linux, macOS, Windows; amd64.
- **Автоматизація:** Підтримка автоматизованого створення кластера в Docker.
- **Додаткові функції:** Інтеграція з Docker, придатний для локального тестування
  
## k3d

- **Призначення:** Створення локальних Kubernetes кластерів в Docker контейнерах з використанням RKE.
- **Підтримувані ОС та архітектури:** Linux, macOS, Windows; amd64.
- **Автоматизація:** Швидке створення та тестування кластерів у Docker-контейнерах.
- **Додаткові функції:** Використання RKE, придатний для PoC стартапу AsciiArtify.

# Переваги та недоліки

## Minikube

- **Переваги:** Легкий встановлення, хороша документація, підтримка різних ОС.
- **Недоліки:** Обмежена можливість масштабування, можливі ризики з ліцензією Docker.

## kind (Kubernetes IN Docker)

- **Переваги:** Легкий використання, інтеграція з Docker.
- **Недоліки:** Обмежені можливості масштабування порівняно з реальним кластером

## k3d

- **Переваги:** Швидке створення та тестування кластерів, використання RKE для більших можливостей.
- **Недоліки:** Можливість змін у поведінці порівняно зі стандартним Kubernetes.
 
## Порівняльний аналіз інструментів для локального розгортання Kubernetes

| Критерії                    | Minikube                                 | kind                                       | k3d                                        |
|-----------------------------|------------------------------------------|--------------------------------------------|--------------------------------------------|
| **Масштабованість**          | Обмежена                                 | Придатний для локального тестування         | Швидке створення та тестування кластерів    |
| **Ліцензія Docker**          | Використовує Docker, можливі ризики      | Використовує Docker, можливі ризики         | Використовує Docker, можливі ризики         |
| **Альтернатива Podman**      | Підтримка відсутня                       | Підтримка відсутня                          | Рекомендовано використовувати               |
| **Операційні системи**       | Linux, macOS, Windows                    | Більшість Linux, macOS, Windows             | Linux, macOS, Windows                      |
| **Автоматизація**            | Основна підтримка                        | Є, створює кластери Kubernetes в Docker     | Так, швидке створення та тестування         |
| **Інтеграція RKE**           | Відсутня                                  | Відсутня                                   | Використовує RKE, придатний для PoC        |
| **Спрощена установка**       | Так                                      | Так                                        | Так                                        |
| **Документація та Спільнота** | Хороша                                   | Достатня                                   | Прийнятна                                  |
| **Швидкість розгортання**    | Швидка                                   | Швидка                                    | Дуже швидка                               |
| **Стабільність**             | Стабільна                                | Помірна                                    | Задовільна                                |
| **Легкість використання**    | Легка                                    | Легка                                     | Легка                                     |
| **Додаткові функції**        | Базові                                   | Інтеграція з Docker, локальне тестування    | Використання RKE, придатний для PoC        |

**Примітка:** Під час використання Docker, можливі ризики, пов'язані з ліцензією Docker, слід ретельно вивчити та врахувати при виборі інструменту.


# Демонстрація

![Demo](demo.gif)
[Посилання на демо в репозиторії](https://github.com/ukrsite/AsciiArtify/blob/main/doc/demo.gif)

1. Create a cluster, mapping the ingress port 80 to localhost:8081

   k3d cluster create --api-port 6550 -p "8081:80@loadbalancer" --agents 2

2. Create a nginx deployment

   kubectl create deployment nginx --image=nginx

3. Create a ClusterIP service for it

   kubectl create service clusterip nginx --tcp=80:80

4. Create an ingress object for it by copying the following manifest to a file and applying with

   kubectl apply -f thatfile.yaml

6. Curl it via localhost

   curl localhost:8081/

# Висновки

На основі порівняння і демонстрації рекомендуємо використовувати **k3d** для PoC стартапу AsciiArtify. Він надає швидке розгортання та тестування, а використання RKE дозволяє отримати більше можливостей для роботи з Kubernetes кластером у локальному середовищі.
